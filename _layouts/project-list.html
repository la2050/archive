---
layout: default
# Use the default description, since this page doesnâ€™t contain general text
use_default_meta_description: true
stylesheets:
  - "/assets/css/project-list.css"
---


<style>
@media (min-width: 40em) {

.tags {
  margin-top: 7.5em;
}
}
/*


.tags::before {
  content: "";
  display: block;
  border-bottom: ;
  max-width: none;
  text-align: left;
  grid-column: 1/-1;
  background-color: var(--primary-color);
  background-color: rgba(0, 0, 0, 0.15);
  color: white;
  padding: 0.125em 0 0 0;
  margin: 0 0 0;
}
@media (min-width: 40em) {
  .tags::before {
    margin-left: -4.5em;
    margin-right: -4.5em;
    padding-left: 4.5em;
    padding-right: 4.5em;
  }
}*/

.tags h2 {
  font-style: italic;
  color: inherit !important;
  font-size: inherit;
  line-height: inherit;
  margin-top: 0;
  font-weight: inherit;
  padding-left: 1.5em;
  max-width: none;
}
.tags h2 strong {
  color: inherit;
}
.tags .action {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  align-content: center;
  align-items: center;
  max-width: none;
  padding-left: 0;
  /*margin: -1.35em;*/
/*  margin-left: -1.35em;
  margin-right: -1.35em;*/
  margin-left: -1.5rem;
  margin-right: -1.5rem;
}
@media (min-width: 40em) {
  .tags .action {
    margin-left: 0.375em;
    margin-right: 0.375em;
  }
}
@media (min-width: 40em) {
/*.tags .action {
  margin-left: -4.35em;
  margin-right: -4.35em;
}
*/
}
.tags .action li {
/*margin: 1.5em;*/
margin: 0.15em;
text-align: center;
text-align: left;
  display: flex;
  justify-content: center;
  align-content: center;
  align-items: center;
}
@media (min-width: 40em) {
/*  .tags .action a {
    padding: 4.5vmin 6vmin;
  }*/
}

.tags .action a {
  display: block;
  text-align: center;
  background: white;
  color: black;
  border-color: black;
  color: var(--primary-color, black);
  border-color: var(--primary-color, black);
  border-color: rgba(0, 0, 0, 0.25);
  border-color: transparent;
  padding: 0.375em 0.75em;
  letter-spacing: inherit;
  text-transform: inherit;
}
.tags .action a:hover,
.tags .action a:active,
.tags .action a:focus {
/*  background: black;
  border-color: black;
  background: var(--primary-color, black);*/
  border-color: var(--primary-color, black);
/*  color: white;*/
}


.disabled .tags .action li:nth-child(1n) {
  --primary-color:   rgb(255, 194, 51); /* @banana */
  --secondary-color: rgb(237, 59, 136); /* @strawberry */
}
.disabled .tags .action li:nth-child(2n) {
  --primary-color:   rgb(6, 179, 188); /* @blueberry */
  --secondary-color: rgb(255, 194, 51); /* @banana */
}
.disabled .tags .action li:nth-child(3n) {
  --primary-color:   rgb(141, 208, 59); /* @lime */
  --secondary-color: rgb(237, 59, 136); /* @strawberry */
}
.disabled .tags .action li:nth-child(4n) {
  --primary-color:   rgb(237, 59, 136); /* @strawberry */
  /*--primary-color: rgb(255, 59, 118);*/ /* @strawberry-orange */
  --secondary-color: rgb(255, 194, 51); /* @banana */
}
.disabled .tags .action li:nth-child(5n) {
  --primary-color:   rgb(249, 160, 51); /* @tangerine */
  --secondary-color: rgb(237, 59, 136); /* @strawberry */
}


.disabled .tags .action li a {
  background-color: var(--primary-color);
  border-color: var(--primary-color);
}



/*.tags ul {
  margin: 0;
  max-width: none;
}*/
/*.tags ul,
.tags li {
  list-style: none;
  padding-left: 0;
  margin-left: 0;
}*/
/*.tags li {
  display: inline-block;
  font-size: 0.875em;
}
.tags li:not(:last-child)::after {
  content: ", ";
}*/
/*.tags li a {
  text-transform: lowercase;
  color: inherit;
  font-weight: normal;
  text-decoration: none;
}
.tags li a:hover,
.tags li a:active,
.tags li a:focus {
  color: inherit;
  text-decoration: underline;
}*/
</style>



{% unless page.is_search_results %}

<style>
html {
  height: 100vh;
}
body {
  min-height: 100vh;
  background: rgb(254, 254, 254);
  color: rgb(41, 41, 41);
  background: black;
  color: white;
}
body > .container {
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
}
body > .container,
body .container-inner {
  min-height: 100vh;
  margin-left: -1.5em;
  margin-right: -1.5em;
  padding-left: 1.5em;
  padding-right: 1.5em;
}
@media (min-width: 40em) {
  body > .container,
  body .container-inner {
    margin-left: -4.5em;
    margin-right: -4.5em;
    padding-left: 4.5em;
    padding-right: 4.5em;
  }
}
body .container-inner {
  background-color: rgba(0, 0, 0, 0.25);
}
/*
body > .container::before {
  content: "";
  position: absolute;
  z-index: -1;
  width: 100%;
  height: 100%;
  top: 0;
  left: 0;
}*/
body:not(.header-not-visible) header {
  background-color: transparent !important;
  color: white !important;
}
body:not(.header-not-visible) header h2,
body:not(.header-not-visible) header a {
  color: inherit !important;
}
body:not(.header-not-visible) header a:hover,
body:not(.header-not-visible) header a:active,
body:not(.header-not-visible) header a:focus {
  color: var(--primary-color) !important;
}
.goals .navigation .options form input,
.goals .navigation .options form button {
  background-color: transparent;
  color: white;
  border-color: transparent;
}
.goals .navigation .options form input {
  background: rgb(254, 254, 254); /* @snow */
  color: rgb(41, 41, 41); /* @midnight */
}
.goals .navigation .options form input:focus {
  background: rgb(254, 254, 254); /* @snow */
  color: rgb(41, 41, 41); /* @midnight */
}
.goals .navigation .options form button:hover,
.goals .navigation .options form button:active,
.goals .navigation .options form button:focus {
  border-color: var(--primary-color);
}
.tags .action a {
  background-color: transparent;
  color: white;
  text-decoration: underline;
}
main {
  min-height: 0;
  margin-top: 3em;
}
footer {
  color: white;
}
</style>

<script>

(function() {

  var images = [

    "https://activation.la2050.org/assets/images/create/2048-wide/long-beach-downtown-development-corporation.jpg",

    "https://activation.la2050.org/assets/images/connect/2048-wide/film-independent.jpg",
    "https://activation.la2050.org/assets/images/play/2048-wide/los-angeles-dodgers-foundation.jpg",


    "https://activation.la2050.org/assets/images/create/2048-wide/east-la-community-corporation-elacc.jpg",
    "https://activation.la2050.org/assets/images/connect/2048-wide/voterunlead.jpg",
    "https://activation.la2050.org/assets/images/connect/2048-wide/mayors-fund-for-los-angeles.jpg",



    "https://activation.la2050.org/assets/images/connect/2048-wide/los-angeles-master-chorale.jpg",
    "https://activation.la2050.org/assets/images/connect/2048-wide/gracias-music-foundation.jpg",
    "https://activation.la2050.org/assets/images/create/2048-wide/brioxy.jpg",
    "https://activation.la2050.org/assets/images/connect/2048-wide/multicultural-communities-for-mobility-a-project-of-community-partners.jpg",
    "https://activation.la2050.org/assets/images/connect/2048-wide/826la.jpg",
    "https://activation.la2050.org/assets/images/play/2048-wide/kounkuey-design-initiative.jpg",



    "https://activation.la2050.org/assets/images/live/2048-wide/big-citizen-hub.jpg",
    "https://activation.la2050.org/assets/images/connect/2048-wide/justice-la-dignity-and-power-now.jpg",
    "https://activation.la2050.org/assets/images/learn/2048-wide/harlem-lacrosse-los-angeles.jpg",
    "https://activation.la2050.org/assets/images/live/2048-wide/roots-wings.jpg",
    "https://activation.la2050.org/assets/images/live/2048-wide/environment-california-research-policy-center.jpg",
    "https://activation.la2050.org/assets/images/create/2048-wide/small-business-majority.jpg",
    "https://activation.la2050.org/assets/images/connect/2048-wide/homeboy-industries.jpg",
    "https://activation.la2050.org/assets/images/live/2048-wide/lift-los-angeles.jpg",
    "https://activation.la2050.org/assets/images/learn/2048-wide/common-sense.jpg"
  ]

  // https://stackoverflow.com/questions/1527803/generating-random-whole-numbers-in-javascript-in-a-specific-range#1527820

    /**
   * Returns a random number between min (inclusive) and max (exclusive)
   */
  function getRandomArbitrary(min, max) {
      return Math.random() * (max - min) + min;
  }

  /**
   * Returns a random integer between min (inclusive) and max (inclusive)
   * Using Math.round() will give you a non-uniform distribution!
   */
  function getRandomInt(min, max) {
      return Math.floor(Math.random() * (max - min + 1)) + min;
  }

  var randomNumber = getRandomInt(0, images.length - 1);

  document.querySelector("body > .container").style.backgroundImage = "url(" + images[randomNumber] + ")";


})();

</script>

{% endunless %}



{% comment %}
<style>
  {% for i in (1..100) %}
  .proposals li:nth-child({{ i }}), {
    order: var(--order-{{ i }});
  }
  {% endfor %}
</style>
<script>
(function() {
  function getRandomOrder() {
    return (Math.floor(Math.random() * 100) + 1) - 50;
  }
  {% for i in (1..100) %}
  document.documentElement.style.setProperty('--order-{{ i }}', getRandomOrder());
  {% endfor %}
})();
</script>
{% endcomment %}


{% unless page.is_search_results %}
<script>
(function() {
  function getRandomOrder() {
    return (Math.floor(Math.random() * 100) + 1) - 50;
  }
  for (var index = 0; index < 100; index++) {
    document.documentElement.style.setProperty('--order-' + index, getRandomOrder());
  }
})();
</script>
{% endunless %}


<h1 style="color: white; position: absolute; left: -9999px">My LA2050</h1>



{% assign data_collection = site.collections | where: "label", "organizations" | first %}
{% assign data_list = data_collection.docs %}


{% comment %} Order alphabetically {% endcomment %}
{% assign data_list = data_list | sort: "organization_name" %}


{% include project-navigation.html %}


{% if page.category or page.is_search_results %}

<ul class="proposals" id="project-list">

  {% for data in data_list %}

  {% assign is_finalist = false %}
  {% for finalist in site.finalists %}
    {% if finalist == data.url %}
      {% assign is_finalist = true %}
    {% endif %}
  {% endfor %}

  {% assign is_winner = false %}
  {% for winner in site.data.winners %}
    {% if winner.url == data.challenge_url %}
      {% assign is_winner = true %}
    {% endif %}
  {% endfor %}

  {% assign do_show_item = true %}

  {% if do_show_item == true %}

  {% if page.is_search_results %}<script type="text/template">{% endif %}

  {% assign categories = "learn, create, play, connect, live" | split: ", " %}
  {% assign data_category = "" %}
  {% for tag in data.tags_indicators %}
    {% for category in categories %}
      {% for parentTag in site.data.tags_categories[category] %}
        {% if tag == parentTag %}
          {% assign data_category = category %}
        {% endif %}
      {% endfor %}
    {% endfor %}
  {% endfor %}

  <li data-project-titles="{{ data['project_titles'] | join: "," }}" data-tags="{{ data['tags_indicators'] | join: "," }}" {% if is_winner %} data-winner="data-winner" {% elsif is_finalist %} data-finalist="data-finalist" {% endif %}>
    <a href="{{ data.url }}">
      <span class="image">
        <img src="{{ data['project_image'] }}" alt="" width="540" height="428" />
        {% comment %}
        <span style="background-image: url({{ data['project_image'] }})"></span>
        {% endcomment %}
      </span>
      <h3>{{ data['organization_name'] }}</h3>
      <p class="description">{{ data['org_summary'] | strip_html | truncate: 250 }}</p>
      <p class="description" style="margin-top: 0.375rem;">
        <small {% if is_winner or is_finalist %} style="color: var(--primary-color); font-weight: 600;" {% else %} style="color: rgba(0, 0, 0, 0.5)" {% endif %}>
          {{ data['year_submitted'] }}{% if data.zip and data.zip != "" and data.zip != "0" and false %}, 
            {{ data.zip }}
          {% endif %}{% if is_winner %} Winner{% elsif is_finalist %} Finalist{% endif %}
        </small>
      </p>
    </a>
  </li>

  {% if page.is_search_results %}</script>{% endif %}

  {% endif %}

  {% endfor %}

</ul>



{% include project-navigation.html %}

{% endif %}




{% assign organizations_with_tags = 0 %}
{% assign tags = "" | split: "," %}
{% for item in data_list %}

  {% assign item_tags = item['tags_indicators'] %}

  {% if item_tags and item_tags.size > 0 %}
    {% assign organizations_with_tags = organizations_with_tags | plus: 1 %}
    {% for tag in item_tags %}
      {% assign sub_tags = tag | split: ": " %}
      {% for sub_tag in sub_tags %}
        {% unless sub_tag contains "?" or sub_tag == "#N/A" or sub_tag == "0" %}
          {% assign sub_tag_without_trailing_space = sub_tag | strip %}
          {% assign tags = tags | push: sub_tag_without_trailing_space %}
        {% endunless %}
      {% endfor %}
    {% endfor %}
  {% endif %}
{% endfor %}

{% assign unique_tags = tags | uniq | sort %}

{% if unique_tags.size > 0 %}
<details class="tags" style="margin-top: 3em; margin-bottom: 3em; font-size: 1.25em;" open>
<summary>
<h2><strong>Browse</strong> by tag</h2>
</summary>
<ul class="action">
{% for tag in unique_tags %}

  {% if site.data.tags[tag] %}
    {% assign tag_count = 0 %}
    {% for tag_for_counting in tags %}
      {% if tag_for_counting == tag %}
        {% assign tag_count = tag_count | plus: 1 %}
      {% endif %}
    {% endfor %}

    {% assign font_scale_factor = tag_count | times: 1.0 | divided_by: unique_tags.size | times: 0.25 | plus: 1 %}
    <li><a href="/search/?tags={{ tag | replace: '&', '%26' }}">{{ tag }}</a></li>
  {% endif %}

{% endfor %}
</ul>
</details>




<script>

function containsAnyKeyword(keywordList, string) {
  // console.log("string: " + string)
  string = string.toLowerCase()
  for (var index = 0; index < keywordList.length; index++) {
    if (string.indexOf(keywordList[index].toLowerCase()) >= 0) return true
  }
  return false
}

function addCategoryColor(tag) {

  // var keywords = {
  //   "learn"   : ["educ", "mentor", "train", "teach", "tutor", "career", "finan", "veteran", "vitality: innovation"],
  //   "create"  : ["creat", "tech", "kids", "children", "youth", "science", "busi"],
  //   "play"    : ["play"],
  //   "connect" : ["women", "hous", "home", "finan", "entre", "sustain", "volunt", "employ"],
  //   "live"    : ["crime", "food", "health", "green", "safety", "poverty", "space"]
  // }

  var keywords = {{ site.data.tags_categories | jsonify }}

  if (containsAnyKeyword(keywords.learn, tag.textContent)) {
    tag.classList.add("blueberry");
  }
  else if (containsAnyKeyword(keywords.create, tag.textContent)) {
    tag.classList.add("banana");
  }
  else if (containsAnyKeyword(keywords.play, tag.textContent)) {
    tag.classList.add("strawberry");
  }
  else if (containsAnyKeyword(keywords.connect, tag.textContent)) {
    tag.classList.add("tangerine");
  }
  else if (containsAnyKeyword(keywords.live, tag.textContent)) {
    tag.classList.add("lime");
  }
}

(function() {
  var tags = document.querySelectorAll(".tags li");
  if (tags && tags.length > 0) {
    // tags.forEach(addCategoryColor)
  }
})()
</script>
{% endif %}



<style>
.proposals ~ .goals .navigation .count {
  display: none;
}
</style>

<div style="margin-bottom: 4.5em"></div>



{% if page.is_search_results %}
<script>
(function() {
  if (!document.body.querySelector || !document.createDocumentFragment) return;

  var form = document.getElementById('search');
  var field = form.querySelector('input[name="keywords"]');
  var projectList = document.getElementById('project-list');

  // http://stackoverflow.com/questions/901115/how-can-i-get-query-string-values-in-javascript#answer-901144
  function getParameterByName(name, url) {
    if (!url) url = window.location.href;
    var name = name.replace(/[\[\]]/g, "\\$&");
    var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
    results = regex.exec(url);
    if (!results) return null;
    if (!results[2]) return '';
    return decodeURIComponent(results[2].replace(/\+/g, " "));
  }

  var keywords = getParameterByName('keywords');
  var searchByTags = getParameterByName('tags');

  if (searchByTags) {
    document.querySelector(".goals .navigation .options details").style.display = "none";
    document.getElementById("tags-title").style.marginTop = "0";
  }

  var tagsTitle = document.getElementById("tags-title");
  if (tagsTitle && searchByTags) {
    tagsTitle.style.display = "block";
    tagsTitle.textContent = searchByTags;
    // addCategoryColor(tagsTitle);
    // document.body.className = tagsTitle.className;
  }

  // TEMPORARY: Show all projects if keywords are absent
  if (projectList && !keywords && !searchByTags) {
    var items = projectList.getElementsByTagName('script');
    for (var index = 0; index < items.length; index++) {
       projectList.insertAdjacentHTML('beforeend', items[index].innerHTML);
    }
    return;
  }

  if ((!keywords && !searchByTags) || !form || !field || !projectList) return; // TODO: Show an error message?

  field.value = keywords;
  var keywordsIndicator = document.getElementById('keywords');
  if (keywordsIndicator) keywordsIndicator.textContent = keywords;

  function containsKeyword(keyword, string) {
    if (!keyword || keyword == '' || keyword.length < 2) return;

    keyword = keyword.toLowerCase();
    string = string.toLowerCase();

    var rank = 0;

    // Keyword as part of another word gets one point
    if (string.indexOf(keyword) >= 0) rank++;

    // Keyword used as a word by itself gets one point
    // TODO: Handle punctuation or HTML elements, before or after the keyword
    if (string.indexOf(' ' + keyword + ' ') >= 0) rank++;
    if (string.startsWith(keyword + ' ')) rank++;
    if (string.endsWith(' ' + keyword)) rank++;

    // Multiple instances of keyword add additional points
    // KUDOS: https://stackoverflow.com/questions/881085/count-the-number-of-occurrences-of-a-character-in-a-string-in-javascript
    var numberOfMatches = (string.match(new RegExp(keyword, "g")) || []).length;
    if (numberOfMatches > 2) rank += (numberOfMatches - 1);

    return rank;
  }

  function containsAnyKeyword(keywordList, string) {
    string = string.toLowerCase();
    var rank = 0;
    for (var index = 0; index < keywordList.length; index++) {
      rank += containsKeyword(keywordList[index], string);
    }
    return rank;
  }


  // https://stackoverflow.com/questions/2450954/how-to-randomize-shuffle-a-javascript-array#2450976
  function shuffle(array) {
    var currentIndex = array.length, temporaryValue, randomIndex;

    // While there remain elements to shuffle...
    while (0 !== currentIndex) {

      // Pick a remaining element...
      randomIndex = Math.floor(Math.random() * currentIndex);
      currentIndex -= 1;

      // And swap it with the current element.
      temporaryValue = array[currentIndex];
      array[currentIndex] = array[randomIndex];
      array[randomIndex] = temporaryValue;
    }

    return array;
  }


  // var fragment = document.createDocumentFragment();
  var items = projectList.getElementsByTagName('script');
  var matches = [];
  if (keywords) {
    var keywordList = keywords.replace(/\s/, ',').split(',');
    if (keywordList.filter) keywordList = keywordList.filter(function(keyword) {
      return keyword.toLowerCase() != "and" && keyword.toLowerCase() != "the";
    })
  }
  for (var index = 0; index < items.length; index++) {
    var tags = [];
    var tagsMatches = items[index].innerHTML.match(/data-tags=\"([^\"]+)\"/);
    // console.dir(tagsMatches)
    if (tagsMatches && tagsMatches.length > 1) tags = tagsMatches[1].split(",");
    var rank = 0

    if (keywordList) rank += containsAnyKeyword(keywordList, items[index].innerHTML);

    // console.dir(tags)

    for (var j = 0; j < tags.length; j++) {
      if (tags[j] === keywords || tags[j] === searchByTags) {
        console.log("Tag match found: " + tags[j]);
        console.log("Keywords: " + keywords);
        console.log("Tags: " + searchByTags);
        rank += 100; // An exact tag match gets 100 points
      }
    }

    if (rank > 0) {

      if (items[index].innerHTML.includes("data-winner")) {
        console.log("found a winner!: ")
        console.log(items[index])
        rank += 10000
      } else if (items[index].innerHTML.includes("data-finalist")) {
        console.log("found a finalist!: ")
        console.log(items[index])
        rank += 1000
      }

      matches.push({  
        item: items[index],
        rank: rank
      });
    }
  }

  function getYear(item) {
    if (item.innerHTML.indexOf("2018") >= 0) return 2018;
    if (item.innerHTML.indexOf("2016") >= 0) return 2016;
    if (item.innerHTML.indexOf("2015") >= 0) return 2015;
    if (item.innerHTML.indexOf("2014") >= 0) return 2014;
    if (item.innerHTML.indexOf("2013") >= 0) return 2013;
    return 2013;
  }

  function getTitle(item) {
    var result = item.innerHTML.match(/\<h3\>([^\<]+)\<\/h3\>/)
    if (result && result.length > 1) {
      return result[1]
    }
  }

  matches.sort(function (a, b) {
    // a is less than b by some ordering criterion
    if (getYear(a.item) > getYear(b.item)) {
      return -1;
    }
    // a is greater than b by the ordering criterion
    if (getYear(a.item) < getYear(b.item)) {
      return 1;
    }
    // a must be equal to b
    return 0;
  });

  var uniqueMatches = {}
  matches = matches.filter(function(match) {
    var title = getTitle(match.item)
    if (title && !uniqueMatches[title]) {
      uniqueMatches[title] = 1;
      return true;
    } else if (!title) {
      return true;
    } else {
      return false;
    }
  })

  matches = shuffle(matches);

  matches.sort(function (a, b) {
    // a is less than b by some ordering criterion
    if (a.rank < b.rank) {
      return -1;
    }
    // a is greater than b by the ordering criterion
    if (a.rank > b.rank) {
      return 1;
    }
    // a must be equal to b
    return 0;
  });

  matches = matches.reverse();

  for (var index = 0; index < matches.length; index++) {
     projectList.insertAdjacentHTML('beforeend', matches[index].item.innerHTML);
  }

  var projectCount = document.getElementById('project-count');
  var projectCountAreIs = document.getElementById('project-count-are-is');
  var projectCountProjects = document.getElementById('project-count-projects');
  if (projectCount) projectCount.innerText = projectList.getElementsByTagName('li').length;
  if (projectCountAreIs) projectCountAreIs.innerText = projectList.getElementsByTagName('li').length === 1 ? 'is' : 'are';
  if (projectCountProjects) projectCountProjects.innerText = projectList.getElementsByTagName('li').length === 1 ? 'organization' : 'organizations';

  //projectList.appendChild(fragment);

})();
</script>
{% endif %}



<script>
(function() {
  var key = 'scrollPositionOnLastProjectListPage';
  // console.log('localStorage.getItem(key): ' + localStorage.getItem(key));
  if (localStorage.getItem(key)) {
    window.scrollTo(0, localStorage.getItem(key));
    localStorage.removeItem(key);
  }
})();
</script>


